/*!
 * Tictac v1.0.2
 * https://github.com/keenwon/Tictac
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).tictac=e()}(this,function(){"use strict";var t={days:/{[Dd]}/g,hours:/{[Hh]{2}}|{[Hh]}/g,minutes:/{[Mm]{2}}|{[Mm]}/g,seconds:/{[Ss]{2}}|{[Ss]}/g};return{_currentTime:0,_lastTimeForCallback:0,_lastTimeForInterval:0,_timer:null,_instanceHash:{},_callbackInterval:0,_timerInterval:300,_callbackCountDown:0,_callback:null,init:function(t){this._currentTime=t.currentTime,this._lastTimeForCallback=t.currentTime,this._lastTimeForInterval=+new Date,this._callback=t.callback,this._callbackInterval=t.interval,this._callbackCountDown=0,this._run()},_run:function(){var t=this;t._timer=setInterval(function(){t._currentTime+=+new Date-t._lastTimeForInterval,t._lastTimeForInterval=+new Date,t._check()},t._timerInterval)},_check:function(){for(var t in this._instanceHash)this._instanceHash.hasOwnProperty(t)&&this._sync(t);this._callbackCountDown>=this._callbackInterval?(this._callbackCountDown-=this._callbackInterval,this._lastTimeForCallback=this._currentTime-this._callbackCountDown,this._callback()):this._callbackCountDown=this._currentTime-this._lastTimeForCallback},execute:function(){this._lastTimeForCallback=this._currentTime,this._callbackCountDown=0,this._callback()},_sync:function(e){var n=this._instanceHash[e],a=n.expires<=this._currentTime?0:n.expires-this._currentTime;if(0===a)this.remove(e),"function"==typeof n.timeout&&n.timeout();else if("string"==typeof n.targetId){var i=document.getElementById(n.targetId);i&&(i.innerHTML=function(e,n,a){var i="";if(e<0||"object"!=typeof n)return i;"[object Boolean]"!==Object.prototype.toString.call(a)&&(a=!0);var r={days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3)};for(var s in n)if(n.hasOwnProperty(s)){var c=r[s];0===c&&""===i&&a&&"seconds"!==s||(i+=n[s].replace(t[s],function(){return c<10&&arguments[0].length>3&&(c="0"+c),c}))}return i}(a,n.format,n.formatIgnore))}},create:function(t,e){this._instanceHash.hasOwnProperty(t)||(this._instanceHash[t]=e)},reset:function(t,e){this._instanceHash.hasOwnProperty(t)&&(this._instanceHash[t]=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var a in n)t[a]=n[a]}return t}(this._instanceHash[t],e))},remove:function(t){this._instanceHash.hasOwnProperty(t)&&(this._instanceHash[t].targetId&&(document.getElementById(this._instanceHash[t].targetId).innerHTML=""),delete this._instanceHash[t])},getCurrentTime:function(){return this._currentTime},regulate:function(t){this._currentTime=t,this._lastTimeForCallback=t,this._lastTimeForInterval=+new Date,this._callbackCountDown=0,clearInterval(this._timer),this._run()},destroy:function(){for(var t in clearInterval(this._timer),this._timer=null,this._instanceHash)this.remove(t);this._instanceHash={}}}});
